# Simple kernel module Makefile template
obj-m := $(OBJECTS)

# Use generic kernel build directory in Docker
KDIR := /lib/modules/generic/build
PWD := $(shell pwd)

# Compilation flags
ccflags-y := -Wall -Wextra

default:
	$(MAKE) -C $(KDIR) M=$(PWD) modules

clean:
	$(MAKE) -C $(KDIR) M=$(PWD) clean

.PHONY: default clean